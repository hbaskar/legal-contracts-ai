# Azure Function File Upload Service - Local Development Configuration
# Copy this file to .env in the root directory for local development

# === AZURE FUNCTIONS CORE SETTINGS ===
AzureWebJobsStorage=UseDevelopmentStorage=true
FUNCTIONS_WORKER_RUNTIME=python
AzureWebJobsFeatureFlags=EnableWorkerIndexing
PYTHON_ISOLATE_WORKER_DEPENDENCIES=1

# === AZURE STORAGE CONFIGURATION ===
# Option 1: Use Azurite (local storage emulator) - RECOMMENDED for local dev
AZURE_STORAGE_CONNECTION_STRING=UseDevelopmentStorage=true
AZURE_STORAGE_CONTAINER_NAME=uploads

# Option 2: Use real Azure Storage for local development
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_storage_account;AccountKey=your_key;EndpointSuffix=core.windows.net
# AZURE_STORAGE_CONTAINER_NAME=uploads

# === DATABASE CONFIGURATION ===
# Use SQLite for local development
DATABASE_TYPE=sqlite
SQLITE_DATABASE_PATH=./data/metadata.db

# === AZURE SQL CONFIGURATION (when connecting to cloud database) ===
# Uncomment and configure if you want to test against Azure SQL locally
# AZURE_SQL_AUTH_METHOD=ad_password
# AZURE_SQL_SERVER=your_server.database.windows.net
# AZURE_SQL_DATABASE=your_database_name
# AZURE_SQL_USERNAME=your_email@domain.com
# AZURE_SQL_PASSWORD=your_password

# === AI SERVICES CONFIGURATION ===
# Configure these if you want to test AI features locally
# AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
# AZURE_OPENAI_KEY=your_openai_key
# AZURE_OPENAI_API_VERSION=2024-02-01
# AZURE_OPENAI_MODEL_DEPLOYMENT=gpt-4o-cms
# AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
# AZURE_SEARCH_KEY=your_search_key
# AZURE_SEARCH_DOC_INDEX=rag_doc-index

# === DOCUMENT PROCESSING CONFIGURATION ===
DEFAULT_CHUNKING_METHOD=intelligent

# === DEVELOPMENT SETTINGS ===
MAX_FILE_SIZE_MB=100
DEFAULT_SAS_EXPIRY_HOURS=24
LOG_LEVEL=DEBUG

# === LOCAL DEVELOPMENT NOTES ===
# 1. Install Azurite for local storage: npm install -g azurite
# 2. Start Azurite: azurite --silent --location ./data --debug ./data/debug.log
# 3. Use Azure Storage Explorer to manage local storage
# 4. SQLite database will be created automatically in ./data/metadata.db